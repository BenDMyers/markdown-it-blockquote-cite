/*! markdown-it-attribution 0.1.0 https://github.com/dweidner/markdown-it-attribution @license MIT */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownitAttribution=e()}}(function(){return function i(l,u,a){function c(n,e){if(!u[n]){if(!l[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(f)return f(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[n]={exports:{}};l[n][0].call(o.exports,function(e){return c(l[n][1][e]||e)},o,o.exports,i,l,u,a)}return u[n].exports}for(var f="function"==typeof require&&require,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(e,n,t){n.exports=function(e,y){var q=/https?:\/\/[^\s/$.?#()].[^\s()]*/i,x="blockquote_open",N="blockquote_close",n=e.utils.assign;function a(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function T(e){return!e||0===e.length||0===e.trim().length}function O(e,n,t){for(var r=0,o=n.length;r<o;r++)e.splice(t+r,0,n[r])}function A(e,n,t){n=a(n)?n:0;var r=(t=a(t)?t:e.length-1)-n;return e.splice(n,r).length}function i(e,n){for(var t in n)if(n.hasOwnProperty(t)&&n[t]!==e[t])return!1;return!0}function C(e,n,t){for(var r=t=a(t)?t:0,o=e.length;r<o;r++)if(i(e[r],n))return r;return-1}function M(e,n){if(function(e,n){return e.slice(0,n.length)===n}(e,n))return 0;var t=n.length,r=e.indexOf("\n"+n,t+1);return t<r?r+1:-1}function S(e,n,t,r,o){t=a(t)?t:0,r=a(r)?r:0,o=a(o)?o:e.length;for(var i=r;i<o;i++){var l=e[i],u=l.content;if("inline"===l.type&&l.level===t+2&&0!==u.length)if(-1!==M(u,n))return i}return-1}y=n({},{classNameContainer:"c-blockquote",classNameAttribution:"c-blockquote__attribution",marker:"â€”",removeMarker:!0},y),e.core.ruler.after("block","attribution",function(e){for(var n,t=e.tokens,r=0,o=t.length;r<o;r++){var i=C(t,{type:x},r);if(-1!==i){var l=t[i].level,u=C(t,{type:N,level:l},i+1);if(-1!==u){var a=S(t,y.marker,l,i+1,u);if(-1!==a){for(var c=i;c<=u;c++)t[c].level++;var f=t[a],s=f.content,v=M(s,y.marker),p=0<v?s.slice(0,v).replace(/\s+$/,""):null,k=0<v?s.slice(v):s;T(f.content=p)&&(u-=A(t,a-1,a+2));var b=t[i],d=(n=void 0,null!==(n=k.match(q))?n.shift():null);T(d)||b.attrSet("cite",d);var h=new e.Token("blockquote_attribution_open","figcaption",1);h.block=!0,h.level=l+1;var g=new e.Token("inline","",0);g.children=[],g.level=l+2,g.content=y.removeMarker?k.slice(y.marker.length).replace(/^\s+/,""):k;var m=new e.Token("blockquote_attribution_close","figcaption",-1);m.block=!0,m.level=l+1,T(y.classNameAttribution)||h.attrSet("class",y.classNameAttribution),O(t,[h,g,m],u+1);var _=new e.Token("blockquote_container_open","figure",1);_.block=!0,_.level=l;var w=new e.Token("blockquote_container_close","figure",-1);w.block=!0,w.level=l,T(y.classNameContainer)||_.attrSet("class",y.classNameContainer),O(t,[w],u+4),O(t,[_],i),r=u+5}}}}})}},{}]},{},[1])(1)});
//# sourceMappingURL=markdown-it-attribution.min.js.map
